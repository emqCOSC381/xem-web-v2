"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.authInterceptor = exports.validateObject = void 0;
const zod_1 = require("zod");
const zod_validation_error_1 = require("zod-validation-error");
const errors_1 = require("./errors");
const validateObject = (input, schema) => {
    try {
        const result = schema.parse(input);
        return result;
    }
    catch (error) {
        throw new errors_1.DarajaClientError(error instanceof zod_1.z.ZodError ? (0, zod_validation_error_1.fromZodError)(error).message : error.message);
    }
};
exports.validateObject = validateObject;
const authInterceptor = (accessToken) => (config) => {
    if (config.headers != null)
        config.headers['Authorization'] = `Bearer ${accessToken}`;
    return config;
};
exports.authInterceptor = authInterceptor;
